# Frontend Development Dockerfile
FROM node:22-bullseye-slim

WORKDIR /app

# Copiar tudo primeiro
COPY . .

# Verificar se package.json existe
RUN ls -la && cat package.json | head -5

# Instalar todas as dependÃªncias
RUN npm install

# Expor porta
EXPOSE 3000

# Aguardar backend e iniciar com host configurado
CMD ["sh", "-c", "echo 'Frontend starting...' && sleep 15 && npm start -- --host 0.0.0.0 --disable-host-check"]